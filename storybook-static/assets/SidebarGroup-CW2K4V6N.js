import{j as p}from"./jsx-runtime-CDt2p4po.js";import{r as d,R as m}from"./index-GiUgBvb1.js";import{u as G,a as T,b as V,c as $,d as J,P as A,C as K}from"./index-DMPZTNEN.js";import{c as R}from"./createLucideIcon-DWLQh5sP.js";import{G as D,u as Q,h as X}from"./SidebarMenu-BYM2Kj1l.js";function Y(n,t,{checkForDefaultPrevented:s=!0}={}){return function(e){if(n==null||n(e),s===!1||!e.defaultPrevented)return t==null?void 0:t(e)}}function Z(n,t){return d.useReducer((s,o)=>t[s][o]??s,n)}var E=n=>{const{present:t,children:s}=n,o=H(t),e=typeof s=="function"?s({present:o.isPresent}):d.Children.only(s),f=G(o.ref,ee(e));return typeof s=="function"||o.isPresent?d.cloneElement(e,{ref:f}):null};E.displayName="Presence";function H(n){const[t,s]=d.useState(),o=d.useRef(null),e=d.useRef(n),f=d.useRef("none"),r=n?"mounted":"unmounted",[y,u]=Z(r,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return d.useEffect(()=>{const i=w(o.current);f.current=y==="mounted"?i:"none"},[y]),T(()=>{const i=o.current,h=e.current;if(h!==n){const c=f.current,l=w(i);n?u("MOUNT"):l==="none"||(i==null?void 0:i.display)==="none"?u("UNMOUNT"):u(h&&c!==l?"ANIMATION_OUT":"UNMOUNT"),e.current=n}},[n,u]),T(()=>{if(t){let i;const h=t.ownerDocument.defaultView??window,N=l=>{const b=w(o.current).includes(l.animationName);if(l.target===t&&b&&(u("ANIMATION_END"),!e.current)){const v=t.style.animationFillMode;t.style.animationFillMode="forwards",i=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=v)})}},c=l=>{l.target===t&&(f.current=w(o.current))};return t.addEventListener("animationstart",c),t.addEventListener("animationcancel",N),t.addEventListener("animationend",N),()=>{h.clearTimeout(i),t.removeEventListener("animationstart",c),t.removeEventListener("animationcancel",N),t.removeEventListener("animationend",N)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(y),ref:d.useCallback(i=>{o.current=i?getComputedStyle(i):null,s(i)},[])}}function w(n){return(n==null?void 0:n.animationName)||"none"}function ee(n){var o,e;let t=(o=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:o.get,s=t&&"isReactWarning"in t&&t.isReactWarning;return s?n.ref:(t=(e=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:e.get,s=t&&"isReactWarning"in t&&t.isReactWarning,s?n.props.ref:n.props.ref||n.ref)}var I="Collapsible",[te,pe]=$(I),[ne,P]=te(I),k=d.forwardRef((n,t)=>{const{__scopeCollapsible:s,open:o,defaultOpen:e,disabled:f,onOpenChange:r,...y}=n,[u,i]=V({prop:o,defaultProp:e??!1,onChange:r,caller:I});return p.jsx(ne,{scope:s,disabled:f,contentId:J(),open:u,onOpenToggle:d.useCallback(()=>i(h=>!h),[i]),children:p.jsx(A.div,{"data-state":O(u),"data-disabled":f?"":void 0,...y,ref:t})})});k.displayName=I;var L="CollapsibleTrigger",U=d.forwardRef((n,t)=>{const{__scopeCollapsible:s,...o}=n,e=P(L,s);return p.jsx(A.button,{type:"button","aria-controls":e.contentId,"aria-expanded":e.open||!1,"data-state":O(e.open),"data-disabled":e.disabled?"":void 0,disabled:e.disabled,...o,ref:t,onClick:Y(n.onClick,e.onOpenToggle)})});U.displayName=L;var j="CollapsibleContent",F=d.forwardRef((n,t)=>{const{forceMount:s,...o}=n,e=P(j,n.__scopeCollapsible);return p.jsx(E,{present:s||e.open,children:({present:f})=>p.jsx(oe,{...o,ref:t,present:f})})});F.displayName=j;var oe=d.forwardRef((n,t)=>{const{__scopeCollapsible:s,present:o,children:e,...f}=n,r=P(j,s),[y,u]=d.useState(o),i=d.useRef(null),h=G(t,i),N=d.useRef(0),c=N.current,l=d.useRef(0),g=l.current,b=r.open||y,v=d.useRef(b),C=d.useRef(void 0);return d.useEffect(()=>{const a=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(a)},[]),T(()=>{const a=i.current;if(a){C.current=C.current||{transitionDuration:a.style.transitionDuration,animationName:a.style.animationName},a.style.transitionDuration="0s",a.style.animationName="none";const S=a.getBoundingClientRect();N.current=S.height,l.current=S.width,v.current||(a.style.transitionDuration=C.current.transitionDuration,a.style.animationName=C.current.animationName),u(o)}},[r.open,o]),p.jsx(A.div,{"data-state":O(r.open),"data-disabled":r.disabled?"":void 0,id:r.contentId,hidden:!b,...f,ref:h,style:{"--radix-collapsible-content-height":c?`${c}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...n.style},children:b&&e})});function O(n){return n?"open":"closed"}var se=k,ae=U,re=F;function W({className:n,children:t,groupId:s,open:o,defaultOpen:e,...f}){const r=m.useContext(D),[y,u]=m.useState(!!e),i=typeof o=="boolean",h=i?!!o:y;m.useEffect(()=>{r!=null&&r.forceClosed?i||u(!1):!i&&typeof e<"u"&&u(!!e)},[r==null?void 0:r.forceClosed,i,e]);const N=m.useCallback(c=>{var l;r!=null&&r.enabled&&s&&((l=r.registerGroup)==null||l.call(r,s,c))},[r,s]);return p.jsx(se,{ref:N,className:R("group",n),"data-sidebar-group-id":s,open:h,onOpenChange:u,...f,children:t})}const B=({className:n,...t})=>p.jsx("div",{"data-sidebar-group-label":!0,className:R(" text-xs uppercase text-secondary",n),...t}),q=({className:n,...t})=>p.jsx(re,{className:R("space-y-2 sidebar-collapsible",n),...t});function z({className:n,children:t,...s}){const{open:o}=Q(),e=m.useContext(D),f=m.useRef(null),r=m.useRef(null),y=m.useRef(null),u=m.useCallback(c=>{var M,_;if(!c.dataTransfer)return;const l=c.currentTarget,g=l.ownerDocument||document,b=l.closest("[data-sidebar-group-id]"),v=b==null?void 0:b.querySelector("[data-sidebar-group-label]"),C=((v==null?void 0:v.textContent)||((M=r.current)==null?void 0:M.textContent)||"").toString().trim(),a=g.createElement("div");a.style.pointerEvents="none",a.style.position="fixed",a.style.top="-9999px",a.style.left="-9999px",a.style.zIndex="2147483647",a.style.display="inline-flex",a.style.alignItems="center",a.style.gap="8px",a.style.padding="6px 10px",a.style.borderRadius="8px",a.style.border="1px solid rgb(var(--border))",a.style.background="rgb(var(--background))",a.style.boxShadow="var(--shadow-md)",a.style.color="rgb(var(--foreground))";const S=(_=l.querySelector("svg"))==null?void 0:_.cloneNode(!0);if(S){const x=g.createElement("span");x.style.display="inline-flex",x.style.width="20px",x.style.height="20px",x.style.color="rgb(var(--muted-foreground))",x.appendChild(S),a.appendChild(x)}if(C){const x=g.createElement("span");x.textContent=C,x.style.fontSize="12px",x.style.fontWeight="500",x.style.whiteSpace="nowrap",a.appendChild(x)}g.body.appendChild(a);try{c.dataTransfer.setDragImage(a,12,14)}catch{}y.current=a},[]),i=m.useCallback(()=>{const c=y.current;c&&c.parentNode&&c.parentNode.removeChild(c),y.current=null},[]),h=m.useCallback(c=>{var b;if(!(e!=null&&e.enabled))return;u(c);const l=c.currentTarget.closest("[data-sidebar-group-id]"),g=l==null?void 0:l.dataset.sidebarGroupId;g&&((b=e.onGroupDragStart)==null||b.call(e,c,g))},[e,u]),N=m.useCallback(c=>{var b;if(!(e!=null&&e.enabled))return;i();const l=c.currentTarget.closest("[data-sidebar-group-id]"),g=l==null?void 0:l.dataset.sidebarGroupId;g&&((b=e.onGroupDragEnd)==null||b.call(e,c,g))},[e,i]);return p.jsx(ae,{className:R("group/trigger w-full flex flex-col rounded-md focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring","px-2 py-3",n),...s,children:p.jsxs("div",{className:R("flex items-center gap-1 text-xs font-medium uppercase tracking-wide text-secondary",o?"justify-start":"justify-center"),children:[o&&p.jsxs("div",{className:"min-w-0 truncate flex items-center gap-2",children:[e!=null&&e.enabled?p.jsx("span",{ref:f,className:"inline-flex items-center justify-center w-4 h-4 opacity-50 hover:opacity-100 cursor-grab active:cursor-grabbing group/icon",draggable:!0,onDragStart:h,onDragEnd:N,children:p.jsx(X,{className:"w-3 h-3"})}):null,p.jsx("div",{ref:r,className:"min-w-0 truncate py-0.5",children:t})]}),p.jsx("div",{className:R("h-px bg-border",o?"flex-1":"w-3")}),p.jsx("span",{className:"inline-flex items-center justify-center h-6 w-6 rounded-full transition-colors group-hover/trigger:bg-gray-300/40",children:p.jsx(K,{"aria-hidden":!0,className:R("h-3 w-3 shrink-0 transition-transform duration-200 ease-out text-secondary","group-data-[state=open]:rotate-180")})})]})})}const fe=m.memo(W),me=m.memo(B),ge=m.memo(q),be=m.memo(z);W.__docgenInfo={description:"",methods:[],displayName:"SidebarGroupImpl",props:{groupId:{required:!1,tsType:{name:"string"},description:""}}};B.__docgenInfo={description:"",methods:[],displayName:"SidebarGroupLabelImpl"};q.__docgenInfo={description:"",methods:[],displayName:"SidebarGroupContentImpl"};z.__docgenInfo={description:"",methods:[],displayName:"SidebarGroupTriggerImpl"};export{fe as S,be as a,me as b,ge as c};
